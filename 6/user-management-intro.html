<section data-intro class="bg-slate-900/20">
  <h2>مقدمه</h2>
  <p>
    لینوکس از ابتدا به عنوان یک سیستم عامل چند کاربره (Multi-user) طراحی شده است. این یعنی
    چندین نفر میتوانند به طور همزمان حسابهای کاربری مجزا روی یک سیستم داشته باشند، با فایلهای
    شخصی خود کار کنند و برنامههای خود را اجرا نمایند. مدیریت این حسابهای کاربری یکی از وظایف اصلی
    و بنیادی هر مدیر سیستم لینوکس است.
  </p>
  <p>
    یک حساب کاربری شامل اطلاعاتی مانند نام کاربری، گذرواژه، دایرکتوری خانه (home directory) و شل
    پیش فرض است. در این درس، با مجموعه ای از دستورات حیاتی برای مدیریت چرخه ی حیات یک کاربر آشنا
    میشویم: از ایجاد یک حساب کاربری جدید گرفته تا ویرایش مشخصات آن و در نهایت، حذف آن از سیستم. این
    درس، اولین قدم ما در دنیای مدیریت سیستم است.
  </p>
</section>
<section>
  <h2>کاربر ریشه و دستور <bdi>sudo</bdi></h2>
  <p>
    قبل از شروع، باید با یک مفهوم کلیدی آشنا شویم: کاربر ریشه (root user). کاربر ریشه یا
    ابرکاربر (superuser)، قدرتمندترین حساب کاربری در لینوکس است و هیچ محدودیتی ندارد. این کاربر
    میتواند هر فایلی را بخواند، هر برنامه ای را متوقف کند و هر تغییری را در سیستم اعمال نماید.
  </p>
  <p>
    به دلیل قدرت بسیار زیاد کاربر ریشه، وارد شدن مستقیم به سیستم با این حساب کاربری یک ریسک امنیتی
    بزرگ محسوب میشود، زیرا یک اشتباه کوچک میتواند کل سیستم را نابود کند. راهکار استاندارد و امن
    برای انجام کارهای مدیریتی، استفاده از دستور <bdi>sudo</bdi> (مخفف Superuser Do) است.
  </p>
  <p>
    دستور <bdi>sudo</bdi> به شما اجازه میدهد تا یک دستور واحد را با اختیارات کاربر ریشه اجرا
    کنید. وقتی از <bdi>sudo</bdi> استفاده میکنید، سیستم گذرواژه ی حساب کاربری خودتان را از
    شما میپرسد تا هویت شما را تأیید کند. تمام دستوراتی که در این درس یاد میگیریم، چون با فایلهای
    حساس سیستمی سر و کار دارند، نیازمند استفاده از <bdi>sudo</bdi> هستند.
  </p>
</section>
<section>
  <h2>ایجاد کاربر جدید با <bdi>useradd</bdi></h2>
  <p>
    دستور <bdi>useradd</bdi> برای افزودن یک حساب کاربری جدید به سیستم استفاده میشود. اگرچه میتوان
    از آن به تنهایی استفاده کرد (<bdi>sudo</bdi> <bdi>useradd</bdi> newuser)، اما معمولاً بهتر است چند گزینه
    مهم را نیز به همراه آن به کار ببریم تا حساب کاربری به درستی پیکربندی شود.
  </p>
  <pre dir="ltr" data-cm-lang="bash">
$ sudo useradd -m -s /bin/bash -c "Full Name" username
</pre>
  <p>بیایید گزینه های این دستور را بررسی کنیم:</p>
  <table>
    <thead>
      <tr>
        <th>آپشن</th>
        <th>توضیح</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>-m</td>
        <td>
          یک دایرکتوری خانه (home directory) برای کاربر در مسیر /home/username ایجاد
          میکند (make home). این گزینه بسیار مهم است.
        </td>
      </tr>
      <tr>
        <td>-s</td>
        <td>شل (shell) پیش فرض کاربر را مشخص میکند. معمولاً /bin/bash یک انتخاب
          خوب است.</td>
      </tr>
      <tr>
        <td>-c</td>
        <td>
          یک توضیح یا کامنت (comment) برای کاربر اضافه میکند که معمولاً نام کامل شخص است.
        </td>
      </tr>
    </tbody>
  </table>
  <h3>تنظیم گذرواژه</h3>
  <p>
    پس از ایجاد کاربر، حساب او قفل است و نمیتواند وارد سیستم شود تا زمانی که برایش یک گذرواژه تعیین
    کنیم. این کار با دستور <bdi>passwd</bdi> انجام میشود:
  </p>
  <pre dir="ltr" data-cm-lang="bash">
$ sudo passwd username
Enter new UNIX password:
Retype new UNIX password:
passwd: password updated successfully
</pre>
</section>
<section>
  <h2>ویرایش کاربر موجود با <bdi>usermod</bdi></h2>
  <p>
    برای تغییر مشخصات یک حساب کاربری موجود، از دستور <bdi>usermod</bdi> (مخفف user modify)
    استفاده میکنیم. این دستور بسیاری از گزینه های مشابه useradd را میپذیرد.
  </p>
  <h3>تغییرات رایج</h3>
  <ul class="list-disc pr-6">
    <li>تغییر شل پیش فرض: <bdi>sudo</bdi> <bdi>usermod</bdi> -s /bin/sh username</li>
    <li>قفل کردن حساب کاربری (غیرفعال کردن): <bdi>sudo</bdi> <bdi>usermod</bdi> -L username</li>
    <li>باز کردن حساب کاربری (فعال کردن): <bdi>sudo</bdi> <bdi>usermod</bdi> -U username</li>
    <li>افزودن کاربر به یک گروه جدید: <bdi>sudo</bdi> <bdi>usermod</bdi> -aG groupname username (گزینه -a برای الحاق و -G برای گروههای ثانویه است
      که در درس بعد بیشتر بررسی میشود).</li>
  </ul>
</section>
<section>
  <h2>حذف کاربر با <bdi>userdel</bdi></h2>
  <p>
    در نهایت، برای حذف یک حساب کاربری از سیستم، از دستور <bdi>userdel</bdi> (مخفف user delete) استفاده میکنیم.
  </p>
  <p>
    اجرای این دستور به تنهایی (<bdi>sudo</bdi> <bdi>userdel</bdi> username) فقط اطلاعات کاربر را از فایلهای
    سیستمی مانند /etc/passwd پاک میکند، اما دایرکتوری خانه و فایلهای او را دست نخورده
    باقی میگذارد.
  </p>
  <p>
    در اکثر موارد، ما میخواهیم کاربر و تمام داده هایش را به طور کامل حذف کنیم. برای این کار، از
    گزینه ی -r (مخفف remove) استفاده میکنیم:
  </p>
  <pre dir="ltr" data-cm-lang="bash">
$ sudo userdel -r username_to_delete</pre>

  <div data-callout="warning">
        <strong>احتیاط قبل از حذف!</strong>
        <p>
  دستور <bdi>userdel</bdi> -r بسیار قدرتمند است و تمام فایلهای موجود در دایرکتوری خانه کاربر
      را بدون هیچ تأییدیه ای حذف میکند. این عمل غیرقابل بازگشت است. همیشه قبل از اجرای این
      دستور، مطمئن شوید که از داده های مهم کاربر نسخه ی پشتیبان تهیه کرده اید.
        </p>
  </div>
</section>
